/* GLOBAL SETTINGS */
body, html {
    margin: 0; padding: 0;
    width: 100%; height: 100%;
    background-color: #000;
    overflow: hidden;
    touch-action: none;
    font-family: 'Press Start 2P', cursive;
}

#game-container {
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    aspect-ratio: 16/9;
    width: 100vw; max-height: 100vh;
    background: #111;
    overflow: hidden;
}

/* BACKGROUND */
#bar-background {
    width: 100%; height: 100%;
    background-image: url('../assets/background.png');
    background-size: cover;
    background-position: center;
}

/* --- THE TAP STATION (Container) --- */
/* FIX 4: MOVED DOWN (Changed top from 25% to 35%) */
.tap-station {
    position: absolute;
    top: 35%; 
    width: 150px; height: 400px;
    transform: translateX(-50%);
}

/* 1. TOWER */
.tower {
    width: 120px; height: 300px;
    background-image: url('../assets/tower.png');
    background-size: 300% 100%;
    position: absolute;
    left: 15px; top: 0;
    pointer-events: none;
}
#tap-0 .tower { background-position: 0% 0; }
#tap-1 .tower { background-position: 50% 0; }
#tap-2 .tower { background-position: 100% 0; }

/* 2. HANDLE */
.handle {
    width: 80px; height: 80px;
    background-image: url('../assets/taps.png');
    background-size: 300% 200%; /* 3 Cols, 2 Rows */
    position: absolute;
    
    /* FIX 2: MOVED UP (Changed top from 30px to 10px to connect higher) */
    top: 10px; 
    
    /* Base Left Position */
    left: 35px;
    
    pointer-events: none;
    z-index: 10;
}

/* COLUMN SLICING (Left/Right) */
#tap-0 .handle { background-position-x: 0%; }
#tap-1 .handle { background-position-x: 50%; }
#tap-2 .handle { background-position-x: 100%; }

/* FIX 3: INDIVIDUAL NUDGES (Move Hop/Barley Left) */
#tap-1 .handle { 
    left: 25px; /* Nudged Left by 10px */
}
#tap-2 .handle { 
    left: 25px; /* Nudged Left by 10px */
}

/* FIX 1: STOP SHRINKING, SWAP IMAGE INSTEAD */
.pouring .handle {
    /* Instead of rotate, we shift the background to the BOTTOM ROW */
    background-position-y: 100%; 
    
    /* If the "Open" sprites are misaligned in the file, use this to nudge them: */
    /* transform: translate(0px, 10px); */
}

/* 3. GLASS & LIQUID */
.glass {
    position: absolute;
    bottom: 20px; left: 35px;
    width: 80px; height: 120px;
}
.beer-liquid {
    position: absolute;
    bottom: 0; left: 0;
    width: 100%; height: 0%;
    background-color: #d48600;
    transition: height 0.1s linear;
}
.glass-mask {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background-image: url('../assets/fullpints.png');
    background-size: 400% 100%;
    background-position: 0% 0;
    pointer-events: none;
}

/* 4. HITBOX */
.hitbox {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    cursor: pointer;
    z-index: 20;
}

#loading-screen {
    position: absolute; top: 0; left: 0;
    width: 100%; height: 100%;
    background: black; color: gold;
    display: flex; justify-content: center; align-items: center;
    z-index: 100;
}
